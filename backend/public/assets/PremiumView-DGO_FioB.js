import{u as e,a}from"./index-5thJkCkA.js";import{f as i,r as t,g as l,b as n,e as r,i as s,t as o,F as d,k as p,s as u,o as m}from"./vendor-By8KxUP1.js";const g={style:{"min-height":"100vh",background:"linear-gradient(135deg, #fdf2f8 0%, #fce7f3 100%)"}},c={key:0,style:{"max-width":"1200px",margin:"30px auto",padding:"0 20px"}},y={style:{background:"#dcfce7",border:"2px solid #16a34a","border-radius":"12px",padding:"20px","text-align":"center"}},b={style:{color:"#16a34a",margin:"0 0 10px 0","font-size":"1.3rem"}},x={style:{color:"#15803d",margin:"0"}},f={style:{"max-width":"1200px",margin:"40px auto",padding:"0 20px"}},h={style:{display:"grid","grid-template-columns":"repeat(auto-fit, minmax(350px, 1fr))",gap:"30px"}},k={key:0,style:{position:"absolute",top:"-15px",left:"50%",transform:"translateX(-50%)",background:"#be185d",color:"white",padding:"8px 20px","border-radius":"20px","font-weight":"bold","font-size":"0.9rem"}},v={style:{"text-align":"center","margin-bottom":"25px"}},w={style:{"font-size":"1.8rem","font-weight":"bold",color:"#1f2937",margin:"0 0 10px 0"}},z={style:{color:"#6b7280",margin:"0 0 20px 0","line-height":"1.5"}},P={style:{"font-size":"3rem","font-weight":"bold",color:"#be185d","margin-bottom":"5px"}},_={style:{color:"#6b7280","font-size":"0.9rem"}},A={style:{"margin-bottom":"30px"}},S={style:{color:"#374151","font-size":"0.95rem"}},q=["onClick","disabled"],B={key:0},E={key:1},M={key:2},R={key:1,style:{"max-width":"1200px",margin:"50px auto",padding:"0 20px"}},C={style:{background:"white","border-radius":"12px",overflow:"hidden","box-shadow":"0 4px 15px rgba(0,0,0,0.1)"}},D={style:{"overflow-x":"auto"}},K={style:{width:"100%","border-collapse":"collapse"}},T={style:{padding:"15px",color:"#6b7280"}},j={style:{padding:"15px",color:"#374151","font-weight":"500"}},L={style:{padding:"15px",color:"#374151","font-weight":"600"}},W={style:{padding:"15px"}},Y={style:{"max-width":"800px",margin:"60px auto",padding:"0 20px"}},F={style:{"space-y":"20px"}},G={style:{color:"#be185d","font-weight":"600",margin:"0 0 10px 0"}},H={style:{color:"#6b7280",margin:"0","line-height":"1.6"}},N=i({__name:"PremiumView",setup(i){const N=e(),O=t([]),V=t(null),X=t([]),I=t(!1),J=t(0),Q=[{question:"Premium üyelik nasıl çalışır?",answer:"Premium üyelik satın aldığınızda, seçtiğiniz planın süresi boyunca tüm premium özelliklerden yararlanabilirsiniz. Otomatik yenileme yoktur, süre dolduğunda manuel olarak yenilemeniz gerekir."},{question:"Üyeliğimi iptal edebilir miyim?",answer:"Evet, istediğiniz zaman üyeliğinizi iptal edebilirsiniz. İptal ettiğinizde kalan süreniz boyunca premium özelliklerden yararlanmaya devam edersiniz."},{question:"Ödeme güvenli mi?",answer:"Evet, tüm ödemeler İyzico güvenli ödeme sistemi üzerinden gerçekleştirilir. Kredi kartı bilgileriniz şifrelenerek korunur."},{question:"Plan değiştirebilir miyim?",answer:"Mevcut planınızın süresi dolduğunda farklı bir plan seçebilirsiniz. Aktif üyelik sırasında plan değişikliği şu anda desteklenmemektedir."}],U=async()=>{if(N.isAuthenticated)try{const e=await a.get("/subscription/my");V.value=e.data.data,J.value=e.data.remaining_days||0}catch(e){console.error("Mevcut abonelik yüklenirken hata:",e)}},Z=async()=>{if(confirm("Üyeliğinizi iptal etmek istediğinizden emin misiniz?"))try{(await a.post("/subscription/cancel")).data.success&&(alert("Üyeliğiniz başarıyla iptal edildi"),await U())}catch(e){alert(e.response?.data?.message||"Bir hata oluştu")}},$=e=>{const a={success:{bg:"#dcfce7",text:"#16a34a"},failed:{bg:"#fee2e2",text:"#dc2626"},pending:{bg:"#fef3c7",text:"#d97706"},cancelled:{bg:"#f3f4f6",text:"#6b7280"},refunded:{bg:"#dbeafe",text:"#2563eb"}};return a[e]||a.pending};return l(()=>{(async()=>{try{const e=await a.get("/subscription/plans");O.value=e.data.data}catch(e){console.error("Plans yüklenirken hata:",e)}})(),U(),(async()=>{if(N.isAuthenticated)try{const e=await a.get("/subscription/payment-history");X.value=e.data.data.data||[]}catch(e){console.error("Ödeme geçmişi yüklenirken hata:",e)}})()}),(e,i)=>(m(),n("div",g,[i[4]||(i[4]=r("div",{style:{background:"white","box-shadow":"0 2px 10px rgba(0,0,0,0.1)",padding:"20px 0"}},[r("div",{style:{"max-width":"1200px",margin:"0 auto",padding:"0 20px"}},[r("h1",{style:{"font-size":"2.5rem","font-weight":"bold","text-align":"center",color:"#be185d",margin:"0"}}," ✨ Premium Üyelik Planları "),r("p",{style:{"text-align":"center",color:"#6b7280","margin-top":"10px","font-size":"1.1rem"}}," KadınAtlası'nın tüm özelliklerinden sınırsız yararlanın ")])],-1)),V.value?(m(),n("div",c,[r("div",y,[r("h3",b," 🎉 Aktif Üyeliğiniz: "+o(V.value.membershipPlan?.name),1),r("p",x," Kalan süre: "+o(J.value)+" gün ",1),r("button",{onClick:Z,style:{background:"#dc2626",color:"white",border:"none",padding:"8px 16px","border-radius":"6px","margin-top":"10px",cursor:"pointer"}}," Üyeliği İptal Et ")])])):s("",!0),r("div",f,[r("div",h,[(m(!0),n(d,null,p(O.value,e=>(m(),n("div",{key:e.id,style:u({background:"white",borderRadius:"16px",padding:"30px",boxShadow:e.slug.includes("premium")?"0 20px 40px rgba(190, 24, 93, 0.15)":"0 10px 30px rgba(0,0,0,0.1)",border:e.slug.includes("premium")?"3px solid #be185d":"2px solid #e5e7eb",position:"relative",transform:e.slug.includes("premium")?"scale(1.05)":"scale(1)",transition:"all 0.3s ease"})},[e.slug.includes("premium")?(m(),n("div",k," 🔥 En Popüler ")):s("",!0),r("div",v,[r("h3",w,o(e.name),1),r("p",z,o(e.description),1),r("div",P," ₺"+o(e.price),1),r("div",_,o(30===e.duration_days?"Aylık":90===e.duration_days?"3 Aylık":"Yıllık"),1)]),r("div",A,[(m(!0),n(d,null,p(e.features,e=>(m(),n("div",{key:e,style:{display:"flex","align-items":"center","margin-bottom":"12px",padding:"8px 0"}},[i[0]||(i[0]=r("span",{style:{color:"#16a34a","margin-right":"12px","font-size":"1.2rem"}},"✓",-1)),r("span",S,o(e),1)]))),128))]),r("button",{onClick:i=>(async e=>{if(N.isAuthenticated){I.value=!0;try{const i=await a.post("/subscription/subscribe",{plan_id:e.id});i.data.success&&(window.location.href=i.data.data.payment_page_url)}catch(i){alert(i.response?.data?.message||"Bir hata oluştu")}finally{I.value=!1}}else N.showLoginModal=!0})(e),disabled:I.value||V.value&&V.value.membershipPlan?.slug===e.slug,style:u({width:"100%",padding:"15px",borderRadius:"10px",border:"none",fontSize:"1.1rem",fontWeight:"bold",cursor:I.value||V.value&&V.value.membershipPlan?.slug===e.slug?"not-allowed":"pointer",background:V.value&&V.value.membershipPlan?.slug===e.slug?"#9ca3af":e.slug.includes("premium")?"#be185d":"#3b82f6",color:"white",opacity:I.value||V.value&&V.value.membershipPlan?.slug===e.slug?"0.6":"1",transition:"all 0.3s ease"})},[I.value?(m(),n("span",B,"Yükleniyor...")):V.value&&V.value.membershipPlan?.slug===e.slug?(m(),n("span",E," Mevcut Planınız ")):(m(),n("span",M,"Hemen Başla"))],12,q)],4))),128))])]),X.value.length>0?(m(),n("div",R,[i[2]||(i[2]=r("h2",{style:{"font-size":"1.8rem","font-weight":"bold",color:"#1f2937","margin-bottom":"20px","text-align":"center"}}," 💳 Ödeme Geçmişi ",-1)),r("div",C,[r("div",D,[r("table",K,[i[1]||(i[1]=r("thead",{style:{background:"#f9fafb"}},[r("tr",null,[r("th",{style:{padding:"15px","text-align":"left","font-weight":"600",color:"#374151"}},"Tarih"),r("th",{style:{padding:"15px","text-align":"left","font-weight":"600",color:"#374151"}},"Plan"),r("th",{style:{padding:"15px","text-align":"left","font-weight":"600",color:"#374151"}},"Tutar"),r("th",{style:{padding:"15px","text-align":"left","font-weight":"600",color:"#374151"}},"Durum")])],-1)),r("tbody",null,[(m(!0),n(d,null,p(X.value,e=>{return m(),n("tr",{key:e.id,style:{"border-top":"1px solid #e5e7eb"}},[r("td",T,o((i=e.created_at,new Date(i).toLocaleDateString("tr-TR"))),1),r("td",j,o(e.subscription?.membership_plan?.name||"N/A"),1),r("td",L," ₺"+o(e.amount),1),r("td",W,[r("span",{style:u({padding:"4px 12px",borderRadius:"20px",fontSize:"0.85rem",fontWeight:"500",background:$(e.status).bg,color:$(e.status).text})},o((a=e.status,{success:"Başarılı",failed:"Başarısız",pending:"Beklemede",cancelled:"İptal Edildi",refunded:"İade Edildi"}[a]||a)),5)])]);var a,i}),128))])])])])])):s("",!0),r("div",Y,[i[3]||(i[3]=r("h2",{style:{"font-size":"1.8rem","font-weight":"bold",color:"#1f2937","margin-bottom":"30px","text-align":"center"}}," ❓ Sıkça Sorulan Sorular ",-1)),r("div",F,[(m(),n(d,null,p(Q,e=>r("div",{key:e.question,style:{background:"white","border-radius":"12px",padding:"20px","box-shadow":"0 2px 10px rgba(0,0,0,0.05)","margin-bottom":"15px"}},[r("h3",G,o(e.question),1),r("p",H,o(e.answer),1)])),64))])])]))}});export{N as default};
