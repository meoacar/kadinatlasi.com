import{f as e,r as a,g as l,b as r,e as i,t,x as s,C as n,D as u,K as o,G as d,o as m}from"./vendor-By8KxUP1.js";import{a as p,_ as c}from"./index-5thJkCkA.js";const v={class:"payment-page"},y={class:"container"},g={class:"payment-card"},b={key:0,class:"loading-state"},h={key:1,class:"payment-content"},f={class:"order-summary"},x={class:"plan-info"},P={class:"plan-name"},V={class:"plan-price"},D={class:"total"},S={class:"total-price"},k={class:"form-group"},w={class:"form-row"},N={class:"form-group"},_={class:"form-group"},q={class:"form-group"},z=["disabled"],I=c(e({__name:"PremiumPaymentView",setup(e){const c=o(),I=d(),K=a(!0),U=a(!1),j=a(""),H=a(0),T=a({cardNumber:"",expiryDate:"",cvv:"",cardHolder:""}),Y=e=>{let a=e.target.value.replace(/\s/g,"").replace(/[^0-9]/gi,"");const l=a.match(/.{1,4}/g)?.join(" ")||a;T.value.cardNumber=l},A=e=>{let a=e.target.value.replace(/\D/g,"");a.length>=2&&(a=a.substring(0,2)+"/"+a.substring(2,4)),T.value.expiryDate=a},C=async()=>{U.value=!0;try{await new Promise(e=>setTimeout(e,2e3));const e=c.params.id;(await p.post(`/premium/complete-payment/${e}`)).data.success&&(alert("Ã–deme baÅŸarÄ±lÄ±! Premium Ã¼yeliÄŸiniz aktif edildi."),I.push("/profile"))}catch(e){console.error("Payment error:",e),alert("Ã–deme iÅŸlemi sÄ±rasÄ±nda bir hata oluÅŸtu!")}finally{U.value=!1}};return l(()=>{(async()=>{try{const e={1:{name:"Temel",price:29},2:{name:"Premium",price:59},3:{name:"VIP",price:99}}[c.params.id]||{name:"Premium",price:59};j.value=e.name,H.value=e.price}catch(e){console.error("Error loading subscription:",e)}finally{K.value=!1}})()}),(e,a)=>(m(),r("div",v,[i("div",y,[i("div",g,[a[12]||(a[12]=i("div",{class:"payment-header"},[i("h1",null,"ðŸ’³ Ã–deme SayfasÄ±"),i("p",null,"Premium Ã¼yeliÄŸinizi tamamlamak iÃ§in Ã¶deme bilgilerinizi girin")],-1)),K.value?(m(),r("div",b,a[4]||(a[4]=[i("div",{class:"spinner"},null,-1),i("p",null,"YÃ¼kleniyor...",-1)]))):(m(),r("div",h,[i("div",f,[a[6]||(a[6]=i("h3",null,"SipariÅŸ Ã–zeti",-1)),i("div",x,[i("div",P,t(j.value)+" Plan",1),i("div",V,"â‚º"+t(H.value),1)]),i("div",D,[a[5]||(a[5]=i("span",null,"Toplam:",-1)),i("span",S,"â‚º"+t(H.value),1)])]),i("form",{onSubmit:s(C,["prevent"]),class:"payment-form"},[a[11]||(a[11]=i("h3",null,"Ã–deme Bilgileri",-1)),i("div",k,[a[7]||(a[7]=i("label",null,"Kart NumarasÄ±",-1)),n(i("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>T.value.cardNumber=e),type:"text",placeholder:"1234 5678 9012 3456",maxlength:"19",onInput:Y,required:""},null,544),[[u,T.value.cardNumber]])]),i("div",w,[i("div",N,[a[8]||(a[8]=i("label",null,"Son Kullanma",-1)),n(i("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>T.value.expiryDate=e),type:"text",placeholder:"MM/YY",maxlength:"5",onInput:A,required:""},null,544),[[u,T.value.expiryDate]])]),i("div",_,[a[9]||(a[9]=i("label",null,"CVV",-1)),n(i("input",{"onUpdate:modelValue":a[2]||(a[2]=e=>T.value.cvv=e),type:"text",placeholder:"123",maxlength:"3",required:""},null,512),[[u,T.value.cvv]])])]),i("div",q,[a[10]||(a[10]=i("label",null,"Kart Sahibi AdÄ±",-1)),n(i("input",{"onUpdate:modelValue":a[3]||(a[3]=e=>T.value.cardHolder=e),type:"text",placeholder:"Ad Soyad",required:""},null,512),[[u,T.value.cardHolder]])]),i("button",{type:"submit",class:"pay-button",disabled:U.value},t(U.value?"Ä°ÅŸleniyor...":`â‚º${H.value} Ã–de`),9,z)],32)]))])])]))}}),[["__scopeId","data-v-7d0e3594"]]);export{I as default};
