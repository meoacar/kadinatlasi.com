import{f as e,r as t,g as a,b as s,i as l,e as r,k as o,t as n,w as i,l as d,J as c,m as u,F as m,j as v,s as p,u as y,A as g,B as x,C as b,K as f,o as h}from"./vendor-CPwFJ_a5.js";import{u as k,a as w,_}from"./index-BwQsNOTg.js";const j={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},z={key:0,class:"text-center py-12"},C={key:1,class:"text-center py-12"},B={class:"text-red-500"},Y={key:2,class:"prose prose-lg max-w-none"},L={class:"mb-8"},A={class:"flex items-center gap-2 mb-4"},M={class:"text-sm text-gray-500"},D={class:"text-4xl font-display font-bold text-gray-900 mb-4"},T={key:0,class:"text-xl text-gray-600 mb-6"},H={class:"flex items-center justify-between py-4 border-t border-b border-gray-200"},I={class:"flex items-center"},V={class:"w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center"},E={class:"text-primary-600 font-medium"},G={class:"ml-3"},R={class:"font-medium text-gray-900"},S={class:"flex items-center gap-6 text-sm text-gray-500"},$={class:"flex items-center gap-1"},q={class:"flex items-center gap-1"},F={key:0,class:"mb-8"},J=["src","alt"],K=["innerHTML"],P={key:1,class:"mt-8 pt-8 border-t border-gray-200"},U={class:"flex flex-wrap gap-2"},N={class:"mt-8 pt-8 border-t border-gray-200"},O={class:"flex items-center justify-between"},Q={class:"mt-12 pt-8 border-t border-gray-200"},W={class:"text-2xl font-bold text-gray-900 mb-6"},X={key:0,id:"comment-form",class:"mb-8"},Z={key:0,class:"mb-4 p-3 bg-blue-50 rounded-lg"},ee={class:"flex justify-end"},te=["disabled"],ae={key:1,class:"mb-8 p-4 bg-gray-50 rounded-lg text-center"},se={key:2,class:"space-y-6"},le={class:"flex items-center justify-between mb-4"},re={class:"flex items-center"},oe={class:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center"},ne={class:"text-primary-600 font-medium text-sm"},ie={class:"ml-3"},de={class:"font-medium text-gray-900"},ce={class:"text-sm text-gray-500"},ue=["onClick"],me={class:"text-gray-700 mb-4"},ve={key:0,class:"ml-6 space-y-4 border-l-2 border-gray-100 pl-6"},pe={class:"flex items-center mb-3"},ye={class:"w-6 h-6 bg-primary-100 rounded-full flex items-center justify-center"},ge={class:"text-primary-600 font-medium text-xs"},xe={class:"ml-2"},be={class:"font-medium text-gray-900 text-sm"},fe={class:"text-xs text-gray-500"},he={class:"text-gray-700 text-sm"},ke={key:3,class:"text-center py-8 text-gray-500"},we=_(e({__name:"BlogDetailView",setup(e){const _=f(),we=k(),_e=t(null),je=t(!1),ze=t(null),Ce=t(""),Be=t(null),Ye=t(!1),Le=async()=>{je.value=!0;try{const e=await w.get(`/blog-posts/${_.params.id}`);e.data.success&&(_e.value=e.data.data)}catch(e){ze.value="Blog yazısı yüklenirken hata oluştu",console.error("Blog post fetch error:",e)}finally{je.value=!1}};a(()=>{Le()});const Ae=e=>new Date(e).toLocaleDateString("tr-TR",{year:"numeric",month:"long",day:"numeric"}),Me=async()=>{if(Ce.value.trim()&&we.isAuthenticated){Ye.value=!0;try{(await w.post(`/blog-posts/${_.params.id}/comments`,{content:Ce.value,parent_id:Be.value})).data.success&&(Ce.value="",Be.value=null,await Le())}catch(e){console.error("Comment submit error:",e)}finally{Ye.value=!1}}},De=()=>{Be.value=null};return(e,t)=>{const a=d("RouterLink");return h(),s("div",j,[je.value?(h(),s("div",z,t[1]||(t[1]=[r("div",{class:"text-gray-500"},"Yükleniyor...",-1)]))):ze.value?(h(),s("div",C,[r("div",B,n(ze.value),1),o(a,{to:"/blog",class:"btn-primary mt-4"},{default:i(()=>t[2]||(t[2]=[u(" Blog'a Dön ",-1)])),_:1,__:[2]})])):_e.value?(h(),s("article",Y,[r("header",L,[r("div",A,[r("span",{class:"px-3 py-1 text-sm font-medium rounded-full",style:c({backgroundColor:_e.value.category?.color+"20",color:_e.value.category?.color})},n(_e.value.category?.name),5),r("span",M,n(Ae(_e.value.published_at)),1)]),r("h1",D,n(_e.value.title),1),_e.value.excerpt?(h(),s("div",T,n(_e.value.excerpt),1)):l("",!0),r("div",H,[r("div",I,[r("div",V,[r("span",E,n(_e.value.user?.name?.charAt(0)),1)]),r("div",G,[r("div",R,n(_e.value.user?.name),1),t[3]||(t[3]=r("div",{class:"text-sm text-gray-500"},"Yazar",-1))])]),r("div",S,[r("span",$,[t[4]||(t[4]=r("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)),u(" "+n(_e.value.views_count)+" görüntüleme ",1)]),r("span",q,[t[5]||(t[5]=r("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})],-1)),u(" "+n(_e.value.likes_count)+" beğeni ",1)])])])]),_e.value.featured_image?(h(),s("div",F,[r("img",{src:_e.value.featured_image,alt:_e.value.title,class:"w-full h-64 md:h-96 object-cover rounded-lg"},null,8,J)])):l("",!0),r("div",{class:"prose prose-lg max-w-none",innerHTML:_e.value.content},null,8,K),_e.value.tags&&_e.value.tags.length>0?(h(),s("div",P,[t[6]||(t[6]=r("h3",{class:"text-lg font-semibold mb-4"},"Etiketler",-1)),r("div",U,[(h(!0),s(m,null,v(_e.value.tags,e=>(h(),s("span",{key:e,class:"px-3 py-1 bg-gray-100 text-gray-700 text-sm rounded-full"}," #"+n(e),1))),128))])])):l("",!0),r("div",N,[r("div",O,[t[8]||(t[8]=p('<div class="flex items-center gap-4" data-v-b399d820><button class="flex items-center gap-2 px-4 py-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors" data-v-b399d820><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-b399d820><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" data-v-b399d820></path></svg> Beğen </button><button class="flex items-center gap-2 px-4 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors" data-v-b399d820><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-b399d820><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z" data-v-b399d820></path></svg> Paylaş </button></div>',1)),o(a,{to:"/blog",class:"text-primary-500 hover:text-primary-600"},{default:i(()=>t[7]||(t[7]=[u(" ← Tüm Yazılar ",-1)])),_:1,__:[7]})])]),r("section",Q,[r("h2",W," Yorumlar ("+n(_e.value.comments?.length||0)+") ",1),y(we).isAuthenticated?(h(),s("div",X,[Be.value?(h(),s("div",Z,[t[9]||(t[9]=r("span",{class:"text-blue-700"},"Yanıtlıyorsunuz",-1)),r("button",{onClick:De,class:"ml-2 text-blue-500 hover:text-blue-700"}," İptal ")])):l("",!0),r("form",{onSubmit:g(Me,["prevent"]),class:"space-y-4"},[x(r("textarea",{"onUpdate:modelValue":t[0]||(t[0]=e=>Ce.value=e),placeholder:"Yorumunuzu yazın...",rows:"4",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none",required:""},null,512),[[b,Ce.value]]),r("div",ee,[r("button",{type:"submit",disabled:Ye.value||!Ce.value.trim(),class:"px-6 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 disabled:opacity-50 disabled:cursor-not-allowed"},n(Ye.value?"Gönderiliyor...":"Yorum Yap"),9,te)])],32)])):(h(),s("div",ae,[t[11]||(t[11]=r("p",{class:"text-gray-600 mb-4"},"Yorum yapmak için giriş yapmalısınız",-1)),o(a,{to:"/login",class:"btn-primary"},{default:i(()=>t[10]||(t[10]=[u(" Giriş Yap ",-1)])),_:1,__:[10]})])),_e.value.comments&&_e.value.comments.length>0?(h(),s("div",se,[(h(!0),s(m,null,v(_e.value.comments,e=>(h(),s("div",{key:e.id,class:"bg-white border border-gray-200 rounded-lg p-6"},[r("div",le,[r("div",re,[r("div",oe,[r("span",ne,n(e.user?.name?.charAt(0)),1)]),r("div",ie,[r("div",de,n(e.user?.name),1),r("div",ce,n(Ae(e.created_at)),1)])]),y(we).isAuthenticated?(h(),s("button",{key:0,onClick:t=>{return a=e.id,Be.value=a,void document.getElementById("comment-form")?.scrollIntoView({behavior:"smooth"});var a},class:"text-sm text-primary-500 hover:text-primary-600"}," Yanıtla ",8,ue)):l("",!0)]),r("div",me,n(e.content),1),e.replies&&e.replies.length>0?(h(),s("div",ve,[(h(!0),s(m,null,v(e.replies,e=>(h(),s("div",{key:e.id,class:"bg-gray-50 rounded-lg p-4"},[r("div",pe,[r("div",ye,[r("span",ge,n(e.user?.name?.charAt(0)),1)]),r("div",xe,[r("div",be,n(e.user?.name),1),r("div",fe,n(Ae(e.created_at)),1)])]),r("div",he,n(e.content),1)]))),128))])):l("",!0)]))),128))])):(h(),s("div",ke," Henüz yorum yapılmamış. İlk yorumu siz yapın! "))])])):l("",!0)])}}}),[["__scopeId","data-v-b399d820"]]);export{we as default};
