import{f as e,r as a,g as i,b as t,e as o,i as r,q as l,t as n,s,x as u,C as d,I as p,F as m,k as g,D as y,E as c,j as x,w as b,v,m as f,G as h,o as k}from"./vendor-By8KxUP1.js";import{e as z}from"./expertQuestionService-eoAcIEPU.js";import{u as w}from"./useToast-CEzAm8ue.js";import"./index-5thJkCkA.js";const _={style:{"min-height":"100vh",background:"#f9fafb"}},S={style:{"max-width":"800px",margin:"0 auto",padding:"32px 16px"}},q={key:0,style:{background:"#f0f9ff",border:"1px solid #0ea5e9","border-radius":"12px",padding:"20px","margin-bottom":"32px"}},j={style:{display:"flex","align-items":"center","justify-content":"space-between","margin-bottom":"12px"}},U={style:{color:"#0369a1","font-weight":"600",margin:"0"}},V={style:{background:"#0ea5e9",color:"white",padding:"4px 12px","border-radius":"20px","font-size":"0.875rem","font-weight":"500"}},B={style:{display:"flex","align-items":"center",gap:"16px"}},D={style:{flex:"1",background:"#e0f2fe","border-radius":"8px",height:"8px"}},G={style:{color:"#0369a1","font-weight":"600","font-size":"0.875rem"}},Q={style:{color:"#0369a1",margin:"8px 0 0 0","font-size":"0.875rem"}},C={style:{background:"white","border-radius":"12px","box-shadow":"0 2px 4px rgba(0,0,0,0.1)",padding:"32px","margin-bottom":"32px"}},E={style:{"margin-bottom":"24px"}},K=["value"],L={style:{"margin-bottom":"24px"}},T={style:{"margin-bottom":"24px"}},A={style:{"text-align":"right",color:"#9ca3af","font-size":"0.875rem","margin-top":"4px"}},F={style:{"margin-bottom":"32px"}},H={style:{display:"flex","align-items":"center",cursor:"pointer"}},I=["disabled"],N={key:0},P={key:1},R={key:2},W={key:0,style:{"text-align":"center","margin-top":"16px"}},J=e({__name:"ExpertQuestionView",setup(e){const J=h(),{showToast:M}=w(),O=a(!1),X=a([]),Y=a(null),Z=a({category_id:0,title:"",question:"",is_public:!1}),$=async()=>{O.value=!0;try{const e=await z.createQuestion(Z.value);M(e.message,"success"),J.push("/sorularim")}catch(e){M(e.response?.data?.message||"Soru gönderilirken hata oluştu","error")}finally{O.value=!1}};return i(()=>{(async()=>{try{X.value=await z.getCategories()}catch(e){console.error("Kategoriler yüklenirken hata:",e)}})(),(async()=>{try{Y.value=await z.getQuestionLimits()}catch(e){console.error("Soru limitleri yüklenirken hata:",e)}})()}),(e,a)=>{const i=v("router-link");return k(),t("div",_,[o("div",S,[a[11]||(a[11]=o("div",{style:{"margin-bottom":"48px"}},[o("h1",{style:{"font-size":"2.5rem","font-weight":"bold",color:"#111827","margin-bottom":"16px"}},"❓ Uzmanlara Soru Sor"),o("p",{style:{"font-size":"1.25rem",color:"#6b7280"}},"Alanında uzman kişilerden profesyonel destek alın")],-1)),Y.value?(k(),t("div",q,[o("div",j,[o("h3",U," 📊 "+n(Y.value.membership_type)+" Üyeliğiniz ",1),o("span",V,n(Y.value.month),1)]),o("div",B,[o("div",D,[o("div",{style:s([{background:"#0ea5e9",height:"100%","border-radius":"8px",transition:"width 0.3s"},{width:Y.value.limit>0?Y.value.used/Y.value.limit*100+"%":"0%"}])},null,4)]),o("span",G,n(Y.value.used)+" / "+n(Y.value.limit)+" soru ",1)]),o("p",Q," Bu ay "+n(Y.value.remaining)+" soru hakkınız kaldı. ",1)])):r("",!0),o("div",C,[o("form",{onSubmit:u($,["prevent"])},[o("div",E,[a[5]||(a[5]=o("label",{style:{display:"block","font-weight":"600",color:"#374151","margin-bottom":"8px"}},"Kategori Seçin",-1)),d(o("select",{"onUpdate:modelValue":a[0]||(a[0]=e=>Z.value.category_id=e),style:{width:"100%",padding:"12px 16px",border:"2px solid #e5e7eb","border-radius":"8px","font-size":"1rem",background:"white"},required:""},[a[4]||(a[4]=o("option",{value:""},"Hangi konuda yardım istiyorsunuz?",-1)),(k(!0),t(m,null,g(X.value,e=>(k(),t("option",{key:e.id,value:e.id},n(e.name),9,K))),128))],512),[[p,Z.value.category_id]])]),o("div",L,[a[6]||(a[6]=o("label",{style:{display:"block","font-weight":"600",color:"#374151","margin-bottom":"8px"}},"Soru Başlığı",-1)),d(o("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>Z.value.title=e),type:"text",style:{width:"100%",padding:"12px 16px",border:"2px solid #e5e7eb","border-radius":"8px","font-size":"1rem"},placeholder:"Sorunuzun kısa başlığını yazın",required:"",maxlength:"255"},null,512),[[y,Z.value.title]])]),o("div",T,[a[7]||(a[7]=o("label",{style:{display:"block","font-weight":"600",color:"#374151","margin-bottom":"8px"}},"Soru Detayı",-1)),d(o("textarea",{"onUpdate:modelValue":a[2]||(a[2]=e=>Z.value.question=e),rows:"6",style:{width:"100%",padding:"12px 16px",border:"2px solid #e5e7eb","border-radius":"8px","font-size":"1rem",resize:"vertical"},placeholder:"Sorunuzu detaylı bir şekilde açıklayın...",required:"",maxlength:"2000"},null,512),[[y,Z.value.question]]),o("p",A,n(Z.value.question.length)+"/2000 karakter ",1)]),o("div",F,[o("label",H,[d(o("input",{"onUpdate:modelValue":a[3]||(a[3]=e=>Z.value.is_public=e),type:"checkbox",style:{"margin-right":"8px",width:"16px",height:"16px"}},null,512),[[c,Z.value.is_public]]),a[8]||(a[8]=o("span",{style:{color:"#374151","font-size":"0.875rem"}},"Bu soruyu herkese açık yap (diğer kullanıcılar da görebilir)",-1))])]),o("button",{type:"submit",disabled:O.value||Y.value&&!Y.value.can_ask,style:s({width:"100%",color:"white",padding:"16px",border:"none",borderRadius:"8px",fontSize:"1.125rem",fontWeight:"600",cursor:"pointer",transition:"background-color 0.2s",opacity:O.value||Y.value&&!Y.value.can_ask?.5:1,background:Y.value&&!Y.value.can_ask?"#9ca3af":"#ec4899"})},[O.value?(k(),t("span",N,"Gönderiliyor...")):Y.value&&!Y.value.can_ask?(k(),t("span",P,"Soru Limitiniz Doldu")):(k(),t("span",R,"Soruyu Gönder"))],12,I),Y.value&&!Y.value.can_ask?(k(),t("div",W,[a[10]||(a[10]=o("p",{style:{color:"#dc2626","font-size":"0.875rem","margin-bottom":"12px"}}," Bu ay soru sorma limitinizi doldurdunuz. Daha fazla soru sormak için üyeliğinizi yükseltin. ",-1)),x(i,{to:"/premium",style:{background:"#f59e0b",color:"white",padding:"8px 16px","border-radius":"6px","text-decoration":"none","font-weight":"500","font-size":"0.875rem"}},{default:b(()=>a[9]||(a[9]=[f(" ⭐ Premium'a Geç ",-1)])),_:1,__:[9]})])):r("",!0)],32)]),a[12]||(a[12]=l('<div style="background:#eff6ff;border:1px solid #bfdbfe;border-radius:12px;padding:24px;"><h3 style="color:#1e40af;font-weight:600;margin-bottom:16px;display:flex;align-items:center;gap:8px;"><span style="font-size:1.25rem;">💡</span> Nasıl Çalışır? </h3><ul style="color:#1e40af;line-height:1.6;margin:0;padding-left:20px;"><li style="margin-bottom:8px;">Sorunuzu ilgili kategoride uzman kişilere yönlendiriyoruz</li><li style="margin-bottom:8px;">Uzmanlarımız en kısa sürede sorunuzu cevaplayacak</li><li style="margin-bottom:8px;">Cevap geldiğinde bildirim alacaksınız</li><li>&quot;Sorularım&quot; bölümünden tüm sorularınızı takip edebilirsiniz</li></ul></div>',1))])])}}});export{J as default};
