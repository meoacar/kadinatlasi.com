import{f as e,r as a,c as t,g as s,b as l,e as r,t as n,i,F as d,k as o,n as u,x as c,C as m,D as g,o as p}from"./vendor-By8KxUP1.js";import{e as v}from"./expertQuestionService-eoAcIEPU.js";import{u as x}from"./useToast-CEzAm8ue.js";import"./index-5thJkCkA.js";const y={class:"min-h-screen bg-gray-50 py-8"},f={class:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8"},b={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"},h={class:"bg-white rounded-lg shadow p-6"},w={class:"flex items-center"},k={class:"ml-4"},z={class:"text-2xl font-semibold text-gray-900"},C={class:"bg-white rounded-lg shadow p-6"},j={class:"flex items-center"},S={class:"ml-4"},_={class:"text-2xl font-semibold text-gray-900"},M={class:"bg-white rounded-lg shadow p-6"},B={class:"flex items-center"},V={class:"ml-4"},D={class:"text-2xl font-semibold text-gray-900"},H={key:0,class:"text-center py-8"},T={key:1,class:"space-y-6"},L={class:"flex justify-between items-start mb-4"},Q={class:"flex-1"},U={class:"flex items-center gap-2 mb-2"},q={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-pink-100 text-pink-800"},G={class:"text-lg font-semibold text-gray-900 mb-2"},P={class:"text-gray-600 mb-3"},E={class:"flex items-center gap-2 text-sm text-gray-500"},F={key:0,class:"mt-4 pt-4 border-t border-gray-200"},R=["onSubmit"],A={class:"mb-4"},I=["onUpdate:modelValue"],J={class:"text-sm text-gray-500 mt-1"},K=["disabled"],N={key:1,class:"mt-4 pt-4 border-t border-gray-200"},O={class:"bg-green-50 rounded-lg p-4"},W={class:"text-gray-800"},X={class:"text-sm text-gray-500 mt-2"},Y={key:0,class:"flex justify-center mt-8"},Z={class:"flex items-center space-x-2"},$=["onClick"],ee={key:2,class:"text-center py-12"},ae=e({__name:"ExpertDashboardView",setup(e){const{showToast:ae}=x(),te=a(!0),se=a({data:[],current_page:1,last_page:1}),le=a({}),re=a([]),ne=t(()=>se.value.data.filter(e=>"pending"===e.status).length),ie=t(()=>se.value.data.filter(e=>"answered"===e.status).length),de=t(()=>se.value.data.length),oe=async(e=1)=>{te.value=!0;try{se.value=await v.getPendingQuestions(e)}catch(a){console.error("Sorular yüklenirken hata:",a)}finally{te.value=!1}},ue=e=>new Date(e).toLocaleDateString("tr-TR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return s(()=>{oe()}),(e,a)=>(p(),l("div",y,[r("div",f,[a[12]||(a[12]=r("div",{class:"mb-8"},[r("h1",{class:"text-3xl font-bold text-gray-900"},"Uzman Paneli"),r("p",{class:"text-gray-600 mt-2"},"Size yönlendirilen soruları cevaplayın")],-1)),r("div",b,[r("div",h,[r("div",w,[a[1]||(a[1]=r("div",{class:"flex-shrink-0"},[r("div",{class:"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center"},[r("svg",{class:"w-5 h-5 text-yellow-600",fill:"currentColor",viewBox:"0 0 20 20"},[r("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z","clip-rule":"evenodd"})])])],-1)),r("div",k,[a[0]||(a[0]=r("p",{class:"text-sm font-medium text-gray-500"},"Bekleyen Sorular",-1)),r("p",z,n(ne.value),1)])])]),r("div",C,[r("div",j,[a[3]||(a[3]=r("div",{class:"flex-shrink-0"},[r("div",{class:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center"},[r("svg",{class:"w-5 h-5 text-green-600",fill:"currentColor",viewBox:"0 0 20 20"},[r("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])])],-1)),r("div",S,[a[2]||(a[2]=r("p",{class:"text-sm font-medium text-gray-500"},"Cevaplanan",-1)),r("p",_,n(ie.value),1)])])]),r("div",M,[r("div",B,[a[5]||(a[5]=r("div",{class:"flex-shrink-0"},[r("div",{class:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center"},[r("svg",{class:"w-5 h-5 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20"},[r("path",{"fill-rule":"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z","clip-rule":"evenodd"})])])],-1)),r("div",V,[a[4]||(a[4]=r("p",{class:"text-sm font-medium text-gray-500"},"Toplam Soru",-1)),r("p",D,n(de.value),1)])])])]),te.value?(p(),l("div",H,a[6]||(a[6]=[r("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-pink-600 mx-auto"},null,-1),r("p",{class:"text-gray-600 mt-4"},"Sorular yükleniyor...",-1)]))):se.value.data?.length?(p(),l("div",T,[(p(!0),l(d,null,o(se.value.data,e=>(p(),l("div",{key:e.id,class:"bg-white rounded-lg shadow-md p-6"},[r("div",L,[r("div",Q,[r("div",U,[r("span",q,n(e.category?.name),1),r("span",{class:u([{"bg-yellow-100 text-yellow-800":"pending"===e.status,"bg-green-100 text-green-800":"answered"===e.status},"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},n("pending"===e.status?"Bekliyor":"Cevaplandı"),3)]),r("h3",G,n(e.title),1),r("p",P,n(e.question),1),r("div",E,[a[7]||(a[7]=r("div",{class:"w-6 h-6 bg-gray-200 rounded-full flex items-center justify-center"},[r("svg",{class:"w-3 h-3 text-gray-600",fill:"currentColor",viewBox:"0 0 20 20"},[r("path",{"fill-rule":"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z","clip-rule":"evenodd"})])],-1)),r("span",null,n(e.user?.name),1),a[8]||(a[8]=r("span",null,"•",-1)),r("span",null,n(ue(e.created_at)),1)])])]),"pending"===e.status?(p(),l("div",F,[r("form",{onSubmit:c(a=>(async e=>{const a=le.value[e];if(a?.trim()){re.value.push(e);try{const t=await v.answerQuestion(e,{answer:a});ae(t.message,"success"),le.value[e]="",await oe(se.value.current_page)}catch(t){ae(t.response?.data?.message||"Cevap gönderilirken hata oluştu","error")}finally{re.value=re.value.filter(a=>a!==e)}}})(e.id),["prevent"])},[r("div",A,[a[9]||(a[9]=r("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Cevabınız ",-1)),m(r("textarea",{"onUpdate:modelValue":a=>le.value[e.id]=a,rows:"4",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500",placeholder:"Soruya detaylı cevabınızı yazın...",required:"",maxlength:"5000"},null,8,I),[[g,le.value[e.id]]]),r("p",J,n((le.value[e.id]||"").length)+"/5000 karakter ",1)]),r("button",{type:"submit",disabled:re.value.includes(e.id),class:"bg-pink-600 text-white px-4 py-2 rounded-md hover:bg-pink-700 focus:outline-none focus:ring-2 focus:ring-pink-500 disabled:opacity-50"},n(re.value.includes(e.id)?"Cevap Gönderiliyor...":"Cevap Gönder"),9,K)],40,R)])):e.answer?(p(),l("div",N,[r("div",O,[a[10]||(a[10]=r("p",{class:"text-sm font-medium text-green-800 mb-2"},"Cevabınız:",-1)),r("p",W,n(e.answer),1),r("p",X,n(ue(e.answered_at))+" tarihinde cevaplandı ",1)])])):i("",!0)]))),128)),se.value.last_page>1?(p(),l("div",Y,[r("nav",Z,[(p(!0),l(d,null,o(se.value.last_page,e=>(p(),l("button",{key:e,onClick:a=>oe(e),class:u([{"bg-pink-600 text-white":e===se.value.current_page,"bg-white text-gray-700 hover:bg-gray-50":e!==se.value.current_page},"px-3 py-2 text-sm font-medium border border-gray-300 rounded-md"])},n(e),11,$))),128))])])):i("",!0)])):(p(),l("div",ee,a[11]||(a[11]=[r("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),r("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"Henüz soru yok",-1),r("p",{class:"mt-1 text-sm text-gray-500"},"Size yönlendirilen sorular burada görünecek.",-1)])))])]))}});export{ae as default};
